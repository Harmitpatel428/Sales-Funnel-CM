/* Print Styles for PDF Preview Modal */
/* This stylesheet ensures the print output matches the preview modal exactly */

/* Global print reset */
@media print {
  * {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  body {
    margin: 0 !important;
    padding: 0 !important;
    background-color: #E6F3FF !important;
    font-family: Helvetica, Arial, sans-serif !important;
    font-size: 10px !important;
    line-height: 1.4 !important;
    color: black !important;
  }
  
  /* Page setup */
  @page {
    size: A4 portrait;
    margin: 0;
  }

  /* Header and Footer for Print */
  .pdf-header {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    height: 30mm !important;
    background-color: #E6F3FF !important;
    text-align: center !important;
    border-bottom: 1px solid #ccc !important;
    padding: 5mm 10mm !important;
    z-index: 1000 !important;
    page-break-inside: avoid !important;
    display: block !important;
  }

  .pdf-footer {
    position: fixed !important;
    bottom: 0 !important;
    left: 0 !important;
    right: 0 !important;
    height: 15mm !important;
    background-color: #E6F3FF !important;
    text-align: center !important;
    border-top: 1px solid #ccc !important;
    padding: 2mm 10mm !important;
    z-index: 1000 !important;
    page-break-inside: avoid !important;
    display: block !important;
  }

  .pdf-content {
    margin-top: 35mm !important;
    margin-bottom: 20mm !important;
  }

  /* Hide document header in print mode */
  .print\\:hidden {
    display: none !important;
  }

  /* Specifically hide the document header section in print */
  .pdf-content > div:first-child {
    display: none !important;
  }

  /* Hide document header by targeting the V4U logo section */
  .pdf-content .text-5xl.font-bold.text-blue-600 {
    display: none !important;
  }

  /* Hide the commercial offer header in document content */
  .pdf-content .pdf-commercial-offer-header {
    display: none !important;
  }
  
  /* Print container - matches preview exactly */
  .print-container {
    width: 210mm !important;
    min-height: 297mm !important;
    background-color: #E6F3FF !important;
    padding: 32px !important;
    box-sizing: border-box !important;
    margin: 0 !important;
  }
  
  /* Ensure all elements respect box-sizing */
  .print-container * {
    box-sizing: border-box !important;
  }
  
  /* Typography */
  .text-xs { font-size: 0.75rem !important; }
  .text-sm { font-size: 0.875rem !important; }
  .text-base { font-size: 1rem !important; }
  .text-lg { font-size: 1.125rem !important; }
  .text-5xl { font-size: 3rem !important; }
  
  /* Font weights */
  .font-bold { font-weight: bold !important; }
  .font-medium { font-weight: 500 !important; }
  .font-semibold { font-weight: 600 !important; }
  
  /* Text alignment */
  .text-center { text-align: center !important; }
  .text-right { text-align: right !important; }
  .text-left { text-align: left !important; }
  
  /* Colors - RGB values to avoid OKLCH issues */
  .bg-blue-100 { background-color: #dbeafe !important; }
  .bg-blue-50 { background-color: #eff6ff !important; }
  .text-blue-600 { color: #2563eb !important; }
  .text-red-600 { color: #dc2626 !important; }
  .text-gray-800 { color: #1f2937 !important; }
  .text-gray-500 { color: #6b7280 !important; }
  .text-gray-700 { color: #374151 !important; }
  .text-gray-900 { color: #111827 !important; }
  
  /* Borders */
  .border { border: 1px solid #000 !important; }
  .border-black { border-color: #000 !important; }
  .border-gray-300 { border-color: #d1d5db !important; }
  .border-b { border-bottom: 1px solid #000 !important; }
  .border-r { border-right: 1px solid #000 !important; }
  .border-t { border-top: 1px solid #000 !important; }
  
  /* Border radius */
  .rounded { border-radius: 0.25rem !important; }
  .rounded-lg { border-radius: 0.5rem !important; }
  
  /* Padding */
  .p-1 { padding: 0.25rem !important; }
  .p-2 { padding: 0.5rem !important; }
  .p-4 { padding: 1rem !important; }
  .p-8 { padding: 2rem !important; }
  .px-1 { padding-left: 0.25rem !important; padding-right: 0.25rem !important; }
  .px-4 { padding-left: 1rem !important; padding-right: 1rem !important; }
  .py-0\.5 { padding-top: 0.125rem !important; padding-bottom: 0.125rem !important; }
  .py-2 { padding-top: 0.5rem !important; padding-bottom: 0.5rem !important; }
  
  /* Margins */
  .mb-0 { margin-bottom: 0 !important; }
  .mb-1 { margin-bottom: 0.25rem !important; }
  .mb-2 { margin-bottom: 0.5rem !important; }
  .mb-3 { margin-bottom: 0.75rem !important; }
  .mb-4 { margin-bottom: 1rem !important; }
  .mb-6 { margin-bottom: 1.5rem !important; }
  .mt-2 { margin-top: 0.5rem !important; }
  .ml-1 { margin-left: 0.25rem !important; }
  .-mt-2 { margin-top: -0.5rem !important; }
  .-mt-4 { margin-top: -1rem !important; }
  .-mx-8 { margin-left: -2rem !important; margin-right: -2rem !important; }
  
  /* Display */
  .flex { display: flex !important; }
  .block { display: block !important; }
  .inline-block { display: inline-block !important; }
  
  /* Flexbox */
  .flex-col { flex-direction: column !important; }
  .items-center { align-items: center !important; }
  .justify-center { justify-content: center !important; }
  .space-x-4 > * + * { margin-left: 1rem !important; }
  .space-y-1 > * + * { margin-top: 0.25rem !important; }
  
  /* Widths */
  .w-1\/2 { width: 50% !important; }
  .w-16 { width: 4rem !important; }
  .w-20 { width: 5rem !important; }
  .w-32 { width: 8rem !important; }
  .w-full { width: 100% !important; }
  .w-\[30\%\] { width: 30% !important; }
  .w-\[70\%\] { width: 70% !important; }
  .flex-1 { flex: 1 1 0% !important; }
  
  /* Shadows */
  .shadow-lg { 
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05) !important; 
  }
  
  /* Tables - Critical for proper table rendering */
  table {
    border-collapse: collapse !important;
    width: 100% !important;
    table-layout: fixed !important;
  }
  
  th, td {
    border: 1px solid #000 !important;
    padding: 6px !important;
    vertical-align: top !important;
    font-size: 10px !important;
    text-align: left !important;
  }

  th {
    background-color: #dbeafe !important;
    font-weight: bold !important;
  }

  td {
    background-color: #ffffff !important;
  }

  /* Flex-based table styling (for WORK SCOPE and PROPOSED BENEFITS) */
  .flex {
    display: flex !important;
  }

  .flex > div {
    border: 1px solid #000 !important;
    padding: 6px !important;
    font-size: 10px !important;
    vertical-align: top !important;
    box-sizing: border-box !important;
  }

  .flex.bg-blue-100 {
    background-color: #dbeafe !important;
  }

  .flex.bg-blue-100 > div {
    background-color: #dbeafe !important;
    font-weight: bold !important;
  }

  .flex:not(.bg-blue-100) > div {
    background-color: #ffffff !important;
  }

  /* Specific table styling for PROPOSED BENEFITS table */
  .border.border-black.rounded.bg-blue-100 .flex {
    border-left: none !important;
    border-right: none !important;
  }

  .border.border-black.rounded.bg-blue-100 .flex:first-child {
    border-top: none !important;
  }

  .border.border-black.rounded.bg-blue-100 .flex:last-child {
    border-bottom: none !important;
  }

  /* Ensure proper spacing and alignment for table cells */
  .border.border-black.rounded.bg-blue-100 .flex > div {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
  }

  .border.border-black.rounded.bg-blue-100 .flex > div.text-center {
    justify-content: center !important;
  }

  .border.border-black.rounded.bg-blue-100 .flex > div:not(.text-center) {
    justify-content: flex-start !important;
  }

  /* Force white background for data rows */
  .flex.bg-white {
    background-color: #ffffff !important;
  }

  .flex.bg-white > div {
    background-color: #ffffff !important;
  }

  /* Force white background for table data cells */
  td.bg-white {
    background-color: #ffffff !important;
  }

  tr.bg-white {
    background-color: #ffffff !important;
  }

  /* Border utilities for flex tables */
  .border-r {
    border-right: 1px solid #000 !important;
  }

  .border-b {
    border-bottom: 1px solid #000 !important;
  }

  .border-t {
    border-top: 1px solid #000 !important;
  }

  .border-l {
    border-left: 1px solid #000 !important;
  }

  /* Table container styling */
  .border.border-black.rounded.bg-blue-100 {
    background-color: #dbeafe !important;
    border: 1px solid #000 !important;
    border-radius: 4px !important;
    overflow: hidden !important;
  }

  /* Width utilities for table cells */
  .w-16 {
    width: 4rem !important;
    min-width: 4rem !important;
    max-width: 4rem !important;
  }

  .w-20 {
    width: 5rem !important;
    min-width: 5rem !important;
    max-width: 5rem !important;
  }

  .w-32 {
    width: 8rem !important;
    min-width: 8rem !important;
    max-width: 8rem !important;
  }

  .w-\\[30\\%\\] {
    width: 30% !important;
    min-width: 30% !important;
  }

  .w-\\[70\\%\\] {
    width: 70% !important;
    min-width: 70% !important;
  }

  .flex-1 {
    flex: 1 !important;
    min-width: 0 !important;
  }

  /* Text alignment utilities */
  .text-center {
    text-align: center !important;
  }

  .text-left {
    text-align: left !important;
  }

  .text-right {
    text-align: right !important;
  }

  /* Font weight utilities */
  .font-bold {
    font-weight: bold !important;
  }

  /* Text color utilities */
  .text-red-600 {
    color: #dc2626 !important;
  }
  
  /* Table-specific classes */
  .border-collapse { border-collapse: collapse !important; }
  
  /* Page breaks */
  .page-break-before { 
    page-break-before: always !important; 
    break-before: page !important;
    margin-top: 0 !important;
  }
  
  /* Work Scope section - reduced spacing */
  .work-scope-section {
    margin-top: 0 !important;
    margin-bottom: 0 !important;
    padding-top: 0 !important;
    padding-bottom: 0 !important;
    clear: both !important;
    display: block !important;
  }
  
  
  /* Compact spacing for better layout */
  .mb-4 { margin-bottom: 0.5rem !important; }
  .mb-2 { margin-bottom: 0.25rem !important; }
  .mb-3 { margin-bottom: 0.375rem !important; }
  
  /* Reduce spacing between major sections */
  .text-xs.font-bold.mb-2 {
    margin-bottom: 0.25rem !important;
  }
  .page-break-after { 
    page-break-after: always !important; 
    break-after: page !important;
  }
  .avoid-page-break { 
    page-break-inside: avoid !important; 
    break-inside: avoid !important;
  }
  
  /* Prevent table rows from breaking */
  table, tr, thead, tbody {
    page-break-inside: avoid !important;
    break-inside: avoid !important;
  }
  
  /* Specific table styling for our tables */
  .flex.border-b {
    page-break-inside: avoid !important;
    break-inside: avoid !important;
  }
  
  /* Hide elements that shouldn't print */
  .no-print {
    display: none !important;
  }
  
  /* Ensure consistent spacing */
  .pdf-content {
    background-color: #E6F3FF !important;
  }
  
  /* Commercial offer header */
  .pdf-commercial-offer-header {
    background-color: #dbeafe !important;
    border: 1px solid #000 !important;
  }
  
  /* Input styling for editable content */
  .pdf-input {
    border: 1px solid transparent !important;
    background-color: transparent !important;
  }
  
  .pdf-input-min-height {
    min-height: 1.2em !important;
  }
  
  /* Ensure proper line heights */
  .space-y-1 > * {
    line-height: 1.4 !important;
  }

  /* =================================================================== */
  /* ===== CODE TO FIX CONDITIONAL SPACING ISSUE IN PDF GENERATION ===== */
  /* =================================================================== */

  /*
   * CONDITIONAL ELEMENTS THAT MAY CAUSE SPACING ISSUES:
   * These elements only appear when certain form fields are filled
   * and can cause unexpected spacing in PDF generation.
   */

  /* SGST Application Procedure Stages - Only shows when SGST Subsidy is selected */
  .sgst-procedure-stages {
    /* SOLUTION A: Hide the element completely (Most Common Fix) */
    display: none !important;

    /* SOLUTION B: Keep the element but remove all spacing (Alternative) */
    /* Uncomment the lines below if you need to see the content but without spacing */
    /*
    margin: 0 !important;
    padding: 0 !important;
    height: auto !important;
    min-height: 0 !important;
    border: none !important;
    */
  }

  /* Payment Method Section - Only shows when applicationFees > 0 && sanctioningFees > 0 */
  .payment-method-section {
    /* SOLUTION B: Keep the element but remove all spacing (Alternative) */
    margin: 0 !important;
    padding: 0 !important;
    height: auto !important;
    min-height: 0 !important;
    border: none !important;
  }

  /* Additional Fees Section - Only shows when there are additional fees */
  .additional-fees-section {
    /* SOLUTION B: Keep the element but remove all spacing (Alternative) */
    margin: 0 !important;
    padding: 0 !important;
    height: auto !important;
    min-height: 0 !important;
    border: none !important;
  }

  /* Scheme-specific Terms & Conditions - Only shows for specific schemes */
  .scheme-specific-terms {
    /* SOLUTION A: Hide the element completely (Most Common Fix) */
    display: none !important;

    /* SOLUTION B: Keep the element but remove all spacing (Alternative) */
    /* Uncomment the lines below if you need to see the content but without spacing */
    /*
    margin: 0 !important;
    padding: 0 !important;
    height: auto !important;
    min-height: 0 !important;
    border: none !important;
    */
  }

  /* Eligibility Criteria Sections - Only show for specific schemes */
  .eligibility-criteria-section {
    /* SOLUTION A: Hide the element completely (Most Common Fix) */
    display: none !important;

    /* SOLUTION B: Keep the element but remove all spacing (Alternative) */
    /* Uncomment the lines below if you need to see the content but without spacing */
    /*
    margin: 0 !important;
    padding: 0 !important;
    height: auto !important;
    min-height: 0 !important;
    border: none !important;
    */
  }

  /* Generic fix for any conditional element causing spacing issues */
  .conditional-element {
    /* SOLUTION A: Hide the element completely (Most Common Fix) */
    display: none !important;

    /* SOLUTION B: Keep the element but remove all spacing (Alternative) */
    /* Uncomment the lines below if you need to see the content but without spacing */
    /*
    margin: 0 !important;
    padding: 0 !important;
    height: auto !important;
    min-height: 0 !important;
    border: none !important;
    */
  }
}
