/* PDF Generation Styles */
/* These styles ensure pixel-perfect PDF generation with html2pdf.js */

/* Page break classes for multi-page PDF generation */
.page-break-before {
  page-break-before: always !important;
  break-before: page !important;
}

.page-break-after {
  page-break-after: always !important;
  break-after: page !important;
}

.avoid-page-break {
  page-break-inside: avoid !important;
  break-inside: avoid !important;
}

/* More specific page break rules for html2pdf */
#pdf-preview .page-break-before {
  page-break-before: always !important;
  break-before: page !important;
  margin-top: 0 !important;
}

/* Work Scope section - reduced spacing */
#pdf-preview .work-scope-section {
  margin-top: 0 !important;
  margin-bottom: 0 !important;
  padding-top: 0 !important;
  padding-bottom: 0 !important;
  clear: both !important;
  display: block !important;
}


/* Compact spacing for better layout */
#pdf-preview .mb-4 {
  margin-bottom: 0.5rem !important;
}

#pdf-preview .mb-2 {
  margin-bottom: 0.25rem !important;
}

#pdf-preview .mb-3 {
  margin-bottom: 0.375rem !important;
}

/* Reduce spacing between major sections */
#pdf-preview .text-xs.font-bold.mb-2 {
  margin-bottom: 0.25rem !important;
}

/* Ensure proper styling for PDF generation */
#pdf-preview,
.pdf-preview-styled {
  width: 210mm !important;
  min-height: 297mm !important;
  background-color: #E6F3FF !important;
  font-family: Helvetica, Arial, sans-serif !important;
  font-size: 10px !important;
  line-height: 1.4 !important;
  color: black !important;
  box-sizing: border-box !important;
}

#pdf-preview .pdf-content,
.pdf-content-styled {
  font-family: Helvetica, Arial, sans-serif !important;
  font-size: 10px !important;
  line-height: 1.4 !important;
  color: black !important;
}

/* Ensure tables don't break across pages */
#pdf-preview table {
  page-break-inside: avoid !important;
}

#pdf-preview tr {
  page-break-inside: avoid !important;
}

/* Ensure proper font rendering */
#pdf-preview * {
  font-family: Helvetica, Arial, sans-serif !important;
  -webkit-font-smoothing: antialiased !important;
  -moz-osx-font-smoothing: grayscale !important;
}

/* Ensure colors are preserved - Override OKLCH colors with RGB */
#pdf-preview .bg-blue-100,
.pdf-preview-styled .bg-blue-100 {
  background-color: #dbeafe !important;
}

#pdf-preview .bg-blue-50,
.pdf-preview-styled .bg-blue-50 {
  background-color: #eff6ff !important;
}

#pdf-preview .bg-blue-600,
.pdf-preview-styled .bg-blue-600 {
  background-color: #2563eb !important;
}

#pdf-preview .text-blue-600,
.pdf-preview-styled .text-blue-600 {
  color: #2563eb !important;
}

#pdf-preview .text-blue-500,
.pdf-preview-styled .text-blue-500 {
  color: #3b82f6 !important;
}

#pdf-preview .text-red-600,
.pdf-preview-styled .text-red-600 {
  color: #dc2626 !important;
}

#pdf-preview .bg-red-600,
.pdf-preview-styled .bg-red-600 {
  background-color: #dc2626 !important;
}

#pdf-preview .text-gray-500,
.pdf-preview-styled .text-gray-500 {
  color: #6b7280 !important;
}

#pdf-preview .text-gray-600,
.pdf-preview-styled .text-gray-600 {
  color: #4b5563 !important;
}

#pdf-preview .text-gray-700,
.pdf-preview-styled .text-gray-700 {
  color: #374151 !important;
}

#pdf-preview .text-gray-800,
.pdf-preview-styled .text-gray-800 {
  color: #1f2937 !important;
}

#pdf-preview .text-gray-900,
.pdf-preview-styled .text-gray-900 {
  color: #111827 !important;
}

#pdf-preview .bg-gray-50,
.pdf-preview-styled .bg-gray-50 {
  background-color: #f9fafb !important;
}

#pdf-preview .bg-gray-100,
.pdf-preview-styled .bg-gray-100 {
  background-color: #f3f4f6 !important;
}

#pdf-preview .bg-gray-200,
.pdf-preview-styled .bg-gray-200 {
  background-color: #e5e7eb !important;
}

#pdf-preview .text-black,
.pdf-preview-styled .text-black {
  color: #000000 !important;
}

#pdf-preview .bg-white,
.pdf-preview-styled .bg-white {
  background-color: #ffffff !important;
}

#pdf-preview .text-white,
.pdf-preview-styled .text-white {
  color: #ffffff !important;
}

/* Ensure borders are visible */
#pdf-preview .border {
  border: 1px solid #000 !important;
}

/* Comprehensive table styling for pixel-perfect rendering */
#pdf-preview table {
  border-collapse: collapse !important;
  width: 100% !important;
  margin-bottom: 0.5rem !important;
  table-layout: fixed !important;
}

#pdf-preview th, 
#pdf-preview td {
  border: 1px solid #000 !important;
  padding: 6px !important;
  text-align: left !important;
  font-size: 10px !important;
  vertical-align: top !important;
}

#pdf-preview th {
  background-color: #dbeafe !important;
  font-weight: bold !important;
}

#pdf-preview td {
  background-color: #ffffff !important;
}

/* Flex-based table styling (for WORK SCOPE and PROPOSED BENEFITS) */
#pdf-preview .flex {
  display: flex !important;
}

#pdf-preview .flex > div {
  border: 1px solid #000 !important;
  padding: 6px !important;
  font-size: 10px !important;
  vertical-align: top !important;
  box-sizing: border-box !important;
}

#pdf-preview .flex.bg-blue-100 {
  background-color: #dbeafe !important;
}

#pdf-preview .flex.bg-blue-100 > div {
  background-color: #dbeafe !important;
  font-weight: bold !important;
}

#pdf-preview .flex:not(.bg-blue-100) > div {
  background-color: #ffffff !important;
}

/* Specific styling for table rows - data rows should have white background */
#pdf-preview .flex.border-b.border-black:not(.bg-blue-100) {
  background-color: #ffffff !important;
}

#pdf-preview .flex.border-b.border-black:not(.bg-blue-100) > div {
  background-color: #ffffff !important;
}

/* Specific table styling for PROPOSED BENEFITS table */
#pdf-preview .border.border-black.rounded.bg-blue-100 .flex {
  border-left: none !important;
  border-right: none !important;
}

#pdf-preview .border.border-black.rounded.bg-blue-100 .flex:first-child {
  border-top: none !important;
}

#pdf-preview .border.border-black.rounded.bg-blue-100 .flex:last-child {
  border-bottom: none !important;
}

/* Ensure proper spacing and alignment for table cells */
#pdf-preview .border.border-black.rounded.bg-blue-100 .flex > div {
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

#pdf-preview .border.border-black.rounded.bg-blue-100 .flex > div.text-center {
  justify-content: center !important;
}

#pdf-preview .border.border-black.rounded.bg-blue-100 .flex > div:not(.text-center) {
  justify-content: flex-start !important;
}

/* Force white background for data rows */
#pdf-preview .flex.bg-white {
  background-color: #ffffff !important;
}

#pdf-preview .flex.bg-white > div {
  background-color: #ffffff !important;
}

/* Force white background for table data cells */
#pdf-preview td.bg-white {
  background-color: #ffffff !important;
}

#pdf-preview tr.bg-white {
  background-color: #ffffff !important;
}

/* Border utilities for flex tables */
#pdf-preview .border-r {
  border-right: 1px solid #000 !important;
}

#pdf-preview .border-b {
  border-bottom: 1px solid #000 !important;
}

#pdf-preview .border-t {
  border-top: 1px solid #000 !important;
}

#pdf-preview .border-l {
  border-left: 1px solid #000 !important;
}

/* Table container styling */
#pdf-preview .border.border-black.rounded.bg-blue-100 {
  background-color: #dbeafe !important;
  border: 1px solid #000 !important;
  border-radius: 4px !important;
  overflow: hidden !important;
}

/* Width utilities for table cells */
#pdf-preview .w-16 {
  width: 4rem !important;
  min-width: 4rem !important;
  max-width: 4rem !important;
}

#pdf-preview .w-20 {
  width: 5rem !important;
  min-width: 5rem !important;
  max-width: 5rem !important;
}

#pdf-preview .w-32 {
  width: 8rem !important;
  min-width: 8rem !important;
  max-width: 8rem !important;
}

#pdf-preview .w-\\[30\\%\\] {
  width: 30% !important;
  min-width: 30% !important;
}

#pdf-preview .w-\\[70\\%\\] {
  width: 70% !important;
  min-width: 70% !important;
}

#pdf-preview .flex-1 {
  flex: 1 !important;
  min-width: 0 !important;
}

/* Text alignment utilities */
#pdf-preview .text-center {
  text-align: center !important;
}

#pdf-preview .text-left {
  text-align: left !important;
}

#pdf-preview .text-right {
  text-align: right !important;
}

/* Font weight utilities */
#pdf-preview .font-bold {
  font-weight: bold !important;
}

/* Text color utilities */
#pdf-preview .text-red-600 {
  color: #dc2626 !important;
}

#pdf-preview .border-black {
  border-color: #000 !important;
}

#pdf-preview .border-b {
  border-bottom: 1px solid #000 !important;
}

#pdf-preview .border-r {
  border-right: 1px solid #000 !important;
}

/* Header and Footer Styles for PDF */
#pdf-preview .pdf-header {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  height: 30mm !important;
  background-color: #E6F3FF !important;
  text-align: center !important;
  border-bottom: 1px solid #ccc !important;
  padding: 5mm 10mm !important;
  z-index: 1000 !important;
  page-break-inside: avoid !important;
}

#pdf-preview .pdf-footer {
  position: fixed !important;
  bottom: 0 !important;
  left: 0 !important;
  right: 0 !important;
  height: 15mm !important;
  background-color: #E6F3FF !important;
  text-align: center !important;
  border-top: 1px solid #ccc !important;
  padding: 2mm 10mm !important;
  z-index: 1000 !important;
  page-break-inside: avoid !important;
}

#pdf-preview .pdf-content {
  margin-top: 35mm !important;
  margin-bottom: 20mm !important;
}

/* Hide document header in PDF/print mode */
#pdf-preview .print\\:hidden {
  display: none !important;
}

/* Specifically hide the document header section in PDF */
#pdf-preview .pdf-content > div:first-child {
  display: none !important;
}

/* Hide document header by targeting the V4U logo section */
#pdf-preview .pdf-content .text-5xl.font-bold.text-blue-600 {
  display: none !important;
}

/* Hide the commercial offer header in document content */
#pdf-preview .pdf-content .pdf-commercial-offer-header {
  display: none !important;
}

/* Print-specific styles */
@media print {
  #pdf-preview {
    width: 100% !important;
    min-height: 100vh !important;
    margin: 0 !important;
    padding: 0 !important;
    background-color: #E6F3FF !important;
  }

  /* Page setup */
  @page {
    size: A4 portrait;
    margin: 0;
  }

  /* Header and Footer for Print */
  .pdf-header {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    height: 30mm !important;
    background-color: #E6F3FF !important;
    text-align: center !important;
    border-bottom: 1px solid #ccc !important;
    padding: 5mm 10mm !important;
    z-index: 1000 !important;
    page-break-inside: avoid !important;
    display: block !important;
  }

  .pdf-footer {
    position: fixed !important;
    bottom: 0 !important;
    left: 0 !important;
    right: 0 !important;
    height: 15mm !important;
    background-color: #E6F3FF !important;
    text-align: center !important;
    border-top: 1px solid #ccc !important;
    padding: 2mm 10mm !important;
    z-index: 1000 !important;
    page-break-inside: avoid !important;
    display: block !important;
  }

  .pdf-content {
    margin-top: 35mm !important;
    margin-bottom: 20mm !important;
  }
  
  /* Ensure colors print */
  * {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  /* Page breaks */
  .page-break-before { page-break-before: always !important; }
  .page-break-after { page-break-after: always !important; }
  .avoid-page-break { page-break-inside: avoid !important; }

  /* =================================================================== */
  /* ===== CODE TO FIX CONDITIONAL SPACING ISSUE IN PDF GENERATION ===== */
  /* =================================================================== */

  /*
   * CONDITIONAL ELEMENTS THAT MAY CAUSE SPACING ISSUES:
   * These elements only appear when certain form fields are filled
   * and can cause unexpected spacing in PDF generation.
   */

  /* SGST Application Procedure Stages - Only shows when SGST Subsidy is selected */
  .sgst-procedure-stages {
    /* SOLUTION A: Hide the element completely (Most Common Fix) */
    display: none !important;

    /* SOLUTION B: Keep the element but remove all spacing (Alternative) */
    /* Uncomment the lines below if you need to see the content but without spacing */
    /*
    margin: 0 !important;
    padding: 0 !important;
    height: auto !important;
    min-height: 0 !important;
    border: none !important;
    */
  }

  /* Payment Method Section - Only shows when applicationFees > 0 && sanctioningFees > 0 */
  .payment-method-section {
    /* SOLUTION B: Keep the element but remove all spacing (Alternative) */
    margin: 0 !important;
    padding: 0 !important;
    height: auto !important;
    min-height: 0 !important;
    border: none !important;
  }

  /* Additional Fees Section - Only shows when there are additional fees */
  .additional-fees-section {
    /* SOLUTION B: Keep the element but remove all spacing (Alternative) */
    margin: 0 !important;
    padding: 0 !important;
    height: auto !important;
    min-height: 0 !important;
    border: none !important;
  }

  /* Scheme-specific Terms & Conditions - Only shows for specific schemes */
  .scheme-specific-terms {
    /* SOLUTION A: Hide the element completely (Most Common Fix) */
    display: none !important;

    /* SOLUTION B: Keep the element but remove all spacing (Alternative) */
    /* Uncomment the lines below if you need to see the content but without spacing */
    /*
    margin: 0 !important;
    padding: 0 !important;
    height: auto !important;
    min-height: 0 !important;
    border: none !important;
    */
  }

  /* Eligibility Criteria Sections - Only show for specific schemes */
  .eligibility-criteria-section {
    /* SOLUTION A: Hide the element completely (Most Common Fix) */
    display: none !important;

    /* SOLUTION B: Keep the element but remove all spacing (Alternative) */
    /* Uncomment the lines below if you need to see the content but without spacing */
    /*
    margin: 0 !important;
    padding: 0 !important;
    height: auto !important;
    min-height: 0 !important;
    border: none !important;
    */
  }

  /* Generic fix for any conditional element causing spacing issues */
  .conditional-element {
    /* SOLUTION A: Hide the element completely (Most Common Fix) */
    display: none !important;

    /* SOLUTION B: Keep the element but remove all spacing (Alternative) */
    /* Uncomment the lines below if you need to see the content but without spacing */
    /*
    margin: 0 !important;
    padding: 0 !important;
    height: auto !important;
    min-height: 0 !important;
    border: none !important;
    */
  }
}
